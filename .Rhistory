df.rbs2 <- df.rbs |>
mutate(
CONECEL_2G = `CONECEL S.A. GSM 850` + `CONECEL S.A. GSM 1900`,
CONECEL_3G = `CONECEL S.A. UMTS 850` + `CONECEL S.A. UMTS 1900`,
CONECEL_4G = `CONECEL S.A. LTE 850` + `CONECEL S.A. LTE 1700` + `CONECEL S.A. LTE 1900`,
OTECEL_2G = `OTECEL S.A. GSM 850` + `OTECEL S.A. GSM 1900`,
OTECEL_3G = `OTECEL S.A. UMTS 850` + `OTECEL S.A. UMTS 1900`,
OTECEL_4G = `OTECEL S.A. LTE 1900` + `OTECEL S.A. LTE 850`,
CNT_3G = `CNT E.P UMTS 1900`,
CNT_4G = df.rbs[["CNT E.P LTE\r\n700"]] + df.rbs[["CNT E.P LTE\r\n1700"]] +
df.rbs[["CNT E.P LTE 1900"]]
)
df.rbs2 <- df.rbs2 |>
mutate(TOTAL = CONECEL_2G + CONECEL_3G + CONECEL_4G +
OTECEL_2G + OTECEL_3G + OTECEL_4G +
CNT_3G + CNT_4G)
# join tibbles
df.total <- full_join(df.poblacion, df.rbs2, by = "DPA_PARROQ")
df.sin <- df.total |>
filter(TIPO != 'URBANO', TOTAL==0)
df.sin <- df.sin[, -c(7,10:38)]
colnames(df.sin)[2] <- 'PROVINCIA'
colnames(df.sin)[4] <- 'CANTÓN'
colnames(df.sin)[6] <- 'PARROQUIA'
# Variable internet fixed
df.internet.fijo <- read_excel('./internetFijo/dfinternet.xlsx')
df.internet.fijo$DPA_PARROQ <- sapply(df.internet.fijo$DPA_PARROQ, as.numeric)
df.internet.fijo <- df.internet.fijo |> group_by(DPA_PARROQ) |>
summarise(
cuentasInt = sum(cuentasInt)
)
# join tibbles
df.sin2 <- left_join(df.sin, df.internet.fijo, by = "DPA_PARROQ")
df.sin2[which(is.na(df.sin2[, 9])), 9] = 0
#Export tibble witout mobile service telecom
writexl::write_xlsx(df.sin2, 'dfsinservicioSMA.xlsx')
# Export db TOTAL with and without service mobile telecom
df.total <- left_join(df.total, df.internet.fijo, by = "DPA_PARROQ")
class(df.total$cuentasInt)
View(df.total)
df.total[which(is.na(df.total[, 39])), 39] = 0
df.total[which(is.na(df.total[, 38])), 38] = 0
sum(df.total$TOTAL)
sum(df.total$cuentasInt)
source("C:/Users/bravi/projects/expansionSMAr/sinServicioSMA2.R", echo=TRUE)
sum(df.total$TOTAL)
sum(df.total$cuentasInt)
View(df.total)
View(df.internet.fijo)
View(df.sin2)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
View(db.cirion)
db.ciron <- db.cirion |> mutate(total = POPULAR + RESIDENCIAL + COMERCIAL)
db.cirion <- db.cirion |> mutate(total = POPULAR + RESIDENCIAL + COMERCIAL)
View(db.cirion)
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
View(db.cirion)
class(db.cirion$POPULAR)
db.cirion[which(is.na(db.cirion[, 11])), 11] = 0
which(is.na(db.cirion[, c(11,12)]))
db.cirion[which(is.na(db.cirion[, c(11:13)])), c(11:13)] = 0
db.cirion[which(is.na(db.cirion[, c(11)])), 11] = 0
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
sum(db.cirion$total)
db.cirion <- db.cirion |> group_by(PARROQUIA) |>
summarise(
total = sum(total)
)
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
class(db.cirion$POPULAR)
db.cirion[which(is.na(db.cirion[, c(11)])), 11] = 0
db.cirion[which(is.na(db.cirion[, c(12)])), 12] = 0
db.cirion[which(is.na(db.cirion[, c(13)])), 13] = 0
db.cirion <- db.cirion |> mutate(total = POPULAR + RESIDENCIAL + COMERCIAL)
db.cirion <- db.cirion |> group_by(`COD DE PARROQUIA`) |>
summarise(
total = sum(total)
)
sum(db.cirion$total)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
View(db.cnt)
db.cirion[which(is.na(db.cirion[, db.cirion[["POPULAR"]]])), db.cirion[["POPULAR"]]] = 0
View(db.cirion)
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.cirion[which(is.na(db.cirion[, db.cirion[["POPULAR"]]])), db.cirion[["POPULAR"]]] = 0
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
which(is.na(db.cirion[, db.cirion[["POPULAR"]]]))
which(is.na(db.cirion[, which(colnames(db.cirion) == "POPULAR"]))
which(colnames(db.cirion) == "POPULAR")
which(is.na(db.cirion[, which(colnames(db.cirion) == "POPULAR")]))
db.cirion[which(is.na(db.cirion[, which(colnames(db.cirion) == "POPULAR")])), which(colnames(db.cirion) == "POPULAR")] = 0
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
source(here::here('process_stf.R'))
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.cnt <- read_excel('STF/ESTRUCTURADO_STF_CNT_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.conecel <- read_excel('STF/ESTRUCTURADO_STF_CONECEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.etapa <- read_excel('STF/ESTRUCTURADO_STF_ETAPA_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.linkotel <- read_excel('STF/ESTRUCTURADO_STF_LINKOTEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.setel <- read_excel('STF/ESTRUCTURADO_STF_SETEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
View(db.cirion)
db.cirion <- process_stf(db.cirion)
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
source(here::here('process_stf.R'))
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.cnt <- read_excel('STF/ESTRUCTURADO_STF_CNT_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.conecel <- read_excel('STF/ESTRUCTURADO_STF_CONECEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.etapa <- read_excel('STF/ESTRUCTURADO_STF_ETAPA_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.linkotel <- read_excel('STF/ESTRUCTURADO_STF_LINKOTEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.setel <- read_excel('STF/ESTRUCTURADO_STF_SETEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
class(db.cirion$POPULAR)
db.cirion <- process_stf(db.cirion)
sum(db.cirion$total)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
source(here::here('process_stf.R'))
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.cnt <- read_excel('STF/ESTRUCTURADO_STF_CNT_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.conecel <- read_excel('STF/ESTRUCTURADO_STF_CONECEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.etapa <- read_excel('STF/ESTRUCTURADO_STF_ETAPA_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.linkotel <- read_excel('STF/ESTRUCTURADO_STF_LINKOTEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.setel <- read_excel('STF/ESTRUCTURADO_STF_SETEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
class(db.cirion$POPULAR)
db.cirion <- process_stf(db.cirion)
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
source(here::here('process_stf.R'))
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.cnt <- read_excel('STF/ESTRUCTURADO_STF_CNT_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.conecel <- read_excel('STF/ESTRUCTURADO_STF_CONECEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.etapa <- read_excel('STF/ESTRUCTURADO_STF_ETAPA_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.linkotel <- read_excel('STF/ESTRUCTURADO_STF_LINKOTEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.setel <- read_excel('STF/ESTRUCTURADO_STF_SETEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
class(db.cirion$POPULAR)
db.cirion <- process_stf(db.cirion)
sum(db.cirion$total)
db.cnt <- process_stf(db.cnt)
View(db.cirion)
View(db.cnt)
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
source(here::here('process_stf.R'))
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.cnt <- read_excel('STF/ESTRUCTURADO_STF_CNT_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.conecel <- read_excel('STF/ESTRUCTURADO_STF_CONECEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.etapa <- read_excel('STF/ESTRUCTURADO_STF_ETAPA_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.linkotel <- read_excel('STF/ESTRUCTURADO_STF_LINKOTEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.setel <- read_excel('STF/ESTRUCTURADO_STF_SETEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
class(db.cirion$POPULAR)
View(db.cnt)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
class(db.cirion$`TERMINALES DE USO PUBLICO`)
which(is.na(db.cirion[, which(colnames(db.cirion) == "TERMINALES DE USO PUBLICO")]))
which(colnames(db.cirion) == "TERMINALES DE USO PUBLICO")
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
source(here::here('process_stf.R'))
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.cnt <- read_excel('STF/ESTRUCTURADO_STF_CNT_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.conecel <- read_excel('STF/ESTRUCTURADO_STF_CONECEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.etapa <- read_excel('STF/ESTRUCTURADO_STF_ETAPA_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.linkotel <- read_excel('STF/ESTRUCTURADO_STF_LINKOTEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.setel <- read_excel('STF/ESTRUCTURADO_STF_SETEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
class(db.cirion$POPULAR)
db.cirion <- process_stf(db.cirion)
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
source(here::here('process_stf.R'))
db.cirion <- read_excel('STF/ESTRUCTURADO_STF_CIRION_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.cnt <- read_excel('STF/ESTRUCTURADO_STF_CNT_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.conecel <- read_excel('STF/ESTRUCTURADO_STF_CONECEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.etapa <- read_excel('STF/ESTRUCTURADO_STF_ETAPA_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.linkotel <- read_excel('STF/ESTRUCTURADO_STF_LINKOTEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
db.setel <- read_excel('STF/ESTRUCTURADO_STF_SETEL_DICIEMBRE_2023.xlsx',
sheet = 'Estructurado'
)
class(db.cirion$POPULAR)
db.cirion <- process_stf(db.cirion)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
sum(db.cirion$total)
sum(db.cnt$total)
db.conecel <- process_stf(db.conecel)
View(db.conecel)
sum(db.conecel$total)
db.etapa <- process_stf(db.etapa)
View(db.etapa)
sum(db.etapa$total)
db.linkotel <- process_stf(db.linkotel)
View(db.linkotel)
sum(db.linkotel$total)
db.setel <- process_stf(db.setel)
colnames(db.setel)
toupper(colnames(db.setel))
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
View(db.setel)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
sum(db.setel$total)
db.stf <- rbind(db.cirion, db.cnt, db.conecel, db.etapa, db.linkotel, db.setel)
colnames(db.setel)[1] <- "COD DE PARROQUIA"
# join tibbles
db.stf <- rbind(db.cirion, db.cnt, db.conecel, db.etapa, db.linkotel, db.setel)
View(db.stf)
colnames(db.stf) <- c("DPA_PARROQ", "lineStf")
sum(db.stf$lineStf)
db.stf <- db.stf |> group_by(DPA_PARROQ) |>
summarise(
lineStf = sum(lineStf)
)
sum(db.stf)
sum(db.stf$lineStf)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
source("C:/Users/bravi/projects/expansionSMAr/stfBD.R", echo=TRUE)
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
#________Wrangling_________
df.rbs <- read_excel(
'1.2-Radiobases-por-operador-y-tecnologia-nivel-provincial_Dic23.xlsx',
sheet = 'RBSxPARQ')
df.poblacion <- read_excel('poblacion.xlsx')
# transform to numeric the population variable
colnames(df.poblacion)[colnames(df.poblacion) == '2020'] <- 'poblacion'
df.poblacion[,9] <- lapply(df.poblacion[,9], as.numeric)
df.poblacion$poblacion <- ifelse(is.na(df.poblacion$poblacion), 0, df.poblacion$poblacion)
df.poblacion <- df.poblacion |> mutate(poblacion = round(poblacion, 0))
# change DPA to numeric to compare with db.rbs
df.poblacion[,5] <- sapply(df.poblacion[,5], as.numeric)
#df.rbs
df.rbs <- df.rbs[-c(1:8, 1054),]
df.rbs[1,(5:11)]='CONECEL S.A.'
df.rbs[1,(12:17)]='OTECEL S.A.'
df.rbs[1,(18:21)]='CNT E.P'
df.rbs[1, which(is.na(df.rbs[1, ]))] = ''
new_names <- sapply(df.rbs[1:2, ], paste, collapse=" ")
colnames(df.rbs) <- new_names
df.rbs <- df.rbs[-(1:2),]
# transform of character to numeric
df.rbs[,-c(1:3)] <- lapply(df.rbs[,-c(1:3)], as.numeric)
colnames(df.rbs)[4] <- "DPA_PARROQ"
df.rbs2 <- df.rbs |>
mutate(
CONECEL_2G = `CONECEL S.A. GSM 850` + `CONECEL S.A. GSM 1900`,
CONECEL_3G = `CONECEL S.A. UMTS 850` + `CONECEL S.A. UMTS 1900`,
CONECEL_4G = `CONECEL S.A. LTE 850` + `CONECEL S.A. LTE 1700` + `CONECEL S.A. LTE 1900`,
OTECEL_2G = `OTECEL S.A. GSM 850` + `OTECEL S.A. GSM 1900`,
OTECEL_3G = `OTECEL S.A. UMTS 850` + `OTECEL S.A. UMTS 1900`,
OTECEL_4G = `OTECEL S.A. LTE 1900` + `OTECEL S.A. LTE 850`,
CNT_3G = `CNT E.P UMTS 1900`,
CNT_4G = df.rbs[["CNT E.P LTE\r\n700"]] + df.rbs[["CNT E.P LTE\r\n1700"]] +
df.rbs[["CNT E.P LTE 1900"]]
)
df.rbs2 <- df.rbs2 |>
mutate(TOTAL = CONECEL_2G + CONECEL_3G + CONECEL_4G +
OTECEL_2G + OTECEL_3G + OTECEL_4G +
CNT_3G + CNT_4G)
# join tibbles
df.total <- full_join(df.poblacion, df.rbs2, by = "DPA_PARROQ")
df.sin <- df.total |>
filter(TIPO != 'URBANO', TOTAL==0)
df.sin <- df.sin[, -c(7,10:38)]
colnames(df.sin)[2] <- 'PROVINCIA'
colnames(df.sin)[4] <- 'CANTÓN'
colnames(df.sin)[6] <- 'PARROQUIA'
# Variable internet fixed
df.internet.fijo <- read_excel('./internetFijo/dfinternet.xlsx')
df.internet.fijo$DPA_PARROQ <- sapply(df.internet.fijo$DPA_PARROQ, as.numeric)
df.internet.fijo <- df.internet.fijo |> group_by(DPA_PARROQ) |>
summarise(
cuentasInt = sum(cuentasInt)
)
# Variable fixed telephony
df.telefonia.fija <- read_excel('STF/dfSTF.xlsx')
df.telefonia.fija$DPA_PARROQ <- sapply(df.telefonia.fija$DPA_PARROQ, as.numeric)
View(df.telefonia.fija)
sum(df.telefonia.fija$lineStf)
# join tibbles without service of SMA
df.sin2 <- left_join(df.sin, df.internet.fijo, by = "DPA_PARROQ")
df.sin2[which(is.na(df.sin2[, 9])), 9] = 0
View(df.sin2)
df.sin2 <- left_join(df.sin2, df.telefonia.fija, by = "DPA_PARROQ")
df.sin2[which(is.na(df.sin2[, 10])), 10] = 0
#Export tibble witout mobile service telecom
writexl::write_xlsx(df.sin2, 'dfsinservicioSMA.xlsx')
# Export db TOTAL with and without service mobile telecom
df.total <- full_join(df.total, df.internet.fijo, by = "DPA_PARROQ")
class(df.total$cuentasInt)
df.total[which(is.na(df.total[, 39])), 39] = 0
df.total[which(is.na(df.total[, 38])), 38] = 0
# delete duplicates
df.total <- df.total[!duplicated(df.total$DPA_PARROQ), ]
View(df.total)
sum(df.total$TOTAL)
sum(df.total$cuentasInt)
df.total <- full_join(df.total, df.telefonia.fija, by = "DPA_PARROQ")
df.total[which(is.na(df.total[, 40])), 40] = 0
sum(df.total$lineStf)
# delete duplicates
df.total <- df.total[!duplicated(df.total$DPA_PARROQ), ]
sum(df.total$lineStf)
sum(df.total$TOTAL)
sum(df.total$cuentasInt)
sum(df.total$lineStf)
writexl::write_xlsx(df.total, 'dftotalSMA.xlsx')
View(df.total)
View(df.sin2)
source("~/.active-rstudio-document", echo=TRUE)
View(datos_spss)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
View(db.pob2022)
db.pob2022 <- db.pob2022[-c(1:9), -c(1, 6, 7)]
View(df.total)
colnames(db.pob2022) <- c("PROVINCIA", "CANTON", "PARROQUIA", "pob2022")
str_detect(db.pob2022$PARROQUIA, regex("^Total"), simplify = TRUE)
str_detect(db.pob2022$PARROQUIA, regex("^Total"))
db.pob2022 <- db.pob2022 |> filter(str_detect(PARROQUIA, regex("^Total")))
db.pob2022 <- db.pob2022 |> filter(str_detect(PARROQUIA, regex("^Total")))
str_detect(db.pob2022$PARROQUIA, regex("^Total"))
library(tidyverse)
library(dplyr)
library(readxl)
library(here)
library(writexl)
library(stringr)
db.pob2022 <- read_excel('poblacion2022/01_2022_CPV_Estructura_poblacional.xlsx',
sheet = '1.2'
)
db.pob2022 <- db.pob2022[-c(1:9), -c(1, 6, 7)]
colnames(db.pob2022) <- c("PROVINCIA", "CANTON", "PARROQUIA", "pob2022")
str_detect(db.pob2022$PARROQUIA, regex("^Total"))
db.pob2022 <- db.pob2022 |> filter(str_detect(PARROQUIA, regex("^Total"), negate = TRUE))
sum(db.pob2022$pob2022)
db.pob2022$pob2022 <- lapply(db.pob2022$pob2022, as.numeric)
sum(db.pob2022$pob2022)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
class(db.pob2022$pob2022)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
sum(db.pob2022$pob2022)
db.pob2022 <- db.pob2022 |> mutate(PROVINCIA = toupper(PROVINCIA))
db.pob2022 <- db.pob2022 |> mutate(
PROVINCIA = toupper(PROVINCIA),
CANTON = toupper(CANTON),
PARROQUIA = toupper(PARROQUIA)
)
library(stringi) # to remove accents
db.pob2022 <- db.pob2022 |> mutate(
PARROQUIA = stri_trans_general(PARROQUIA, "Latin-ASCII")
)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
View(df.poblacion)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
View(db.poblacion2020)
db.poblacion2020 <- db.poblacion2020 |> mutate(
DPA_PROVIN = stri_trans_general(DPA_PROVIN, "Latin-ASCII"),
DPA_DESCAN =stri_trans_general(DPA_DESCAN, "Latin-ASCII"),
DPA_DESPAR = stri_trans_general(DPA_DESPAR, "Latin-ASCII")
)
db.poblacion2020 <- db.poblacion2020 |> mutate(
DPA_PROVIN = str_squish(DPA_PROVIN),
DPA_DESCAN = str_squish(DPA_DESCAN),
DPA_DESPAR = str_squish(DPA_DESPAR)
)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
View(we)
ve <- apply(we, 2, paste, collapse="")
db.pob2022$DPA_PARROQ <- ve
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
View(db.pob2022)
source("C:/Users/bravi/projects/expansionSMAr/poblacion2022.R", echo=TRUE)
View(df.total)
View(db.pob2022)
